<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmonthlAPI - Full Featured Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
      transition: background-image 1s ease-in-out;
    }

    .glass-container {
      position: relative;
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(60px) saturate(180%);
      -webkit-backdrop-filter: blur(60px) saturate(180%);
      border: 2px solid rgba(255, 255, 255, 0.3);
      box-shadow: 
        0 4px 16px rgba(0, 0, 0, 0.15),
        inset 0 1px 1px rgba(255, 255, 255, 0.4),
        inset 0 -1px 1px rgba(0, 0, 0, 0.1);
      padding: 24px 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: move;
      transition: background 0.1s ease, border 0.1s ease;
      overflow: visible;
    }

    .glass-container::before {
      content: '';
      position: absolute;
      top: -40px;
      left: -40px;
      right: -40px;
      bottom: -40px;
      background: inherit;
      backdrop-filter: blur(30px) saturate(150%) brightness(1.15);
      -webkit-backdrop-filter: blur(30px) saturate(150%) brightness(1.15);
      border-radius: inherit;
      pointer-events: none;
      z-index: -1;
      opacity: 0.5;
      box-shadow: 
        inset 0 0 30px rgba(255, 255, 255, 0.08),
        0 0 40px rgba(255, 255, 255, 0.05);
    }

    .glass-container::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 20%;
      right: 20%;
      height: 30px;
      background: radial-gradient(
        ellipse at center,
        rgba(0, 0, 0, 0.15) 0%,
        rgba(0, 0, 0, 0.08) 50%,
        transparent 100%
      );
      border-radius: 50%;
      pointer-events: none;
      filter: blur(8px);
      z-index: -2;
    }

    .content {
      position: relative;
      z-index: 1;
      text-align: center;
      color: white;
    }

    .content h1 {
      font-size: 28px;
      font-weight: 300;
      margin-bottom: 8px;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      letter-spacing: -0.5px;
    }

    .content p {
      font-size: 14px;
      opacity: 0.9;
      font-weight: 400;
      text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    }

    .content .icon {
      font-size: 64px;
      margin-bottom: 10px;
    }

    .cursor-light {
      position: fixed;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: radial-gradient(
        circle,
        rgba(255, 255, 255, 0.8) 0%,
        rgba(255, 255, 255, 0.4) 30%,
        transparent 70%
      );
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s ease;
      z-index: 9999;
      mix-blend-mode: overlay;
    }

    .control-panel {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(20px);
      border-radius: 16px;
      padding: 24px;
      width: 280px;
      color: white;
      font-size: 13px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
    }

    .control-panel h3 {
      margin: 0 0 20px 0;
      font-size: 16px;
      font-weight: 500;
      text-align: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      padding-bottom: 12px;
    }

    .control-group {
      margin-bottom: 20px;
    }

    .control-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.9);
    }

    .control-group .value {
      float: right;
      color: #60a5fa;
      font-weight: 600;
    }

    .control-group input[type="range"] {
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: rgba(255, 255, 255, 0.2);
      outline: none;
      -webkit-appearance: none;
    }

    .control-group input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #60a5fa;
      cursor: pointer;
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .btn {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 8px;
      background: rgba(96, 165, 250, 0.2);
      color: white;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      transition: all 0.2s;
      border: 1px solid rgba(96, 165, 250, 0.3);
    }

    .btn:hover {
      background: rgba(96, 165, 250, 0.3);
    }
  </style>
</head>
<body>
  <div class="cursor-light" id="cursorLight"></div>

  <div class="glass-container" id="glassContainer">
    <div class="content" id="content">
      <h1>SmonthlAPI Demo</h1>
      <p>Drag me ‚Ä¢ Full effects enabled</p>
    </div>
  </div>

  <div class="control-panel">
    <h3>‚öôÔ∏è Live Controls</h3>
    
    <div class="control-group">
      <label>Width <span class="value" id="widthValue">400px</span></label>
      <input type="range" id="width" min="100" max="800" value="400">
    </div>

    <div class="control-group">
      <label>Height <span class="value" id="heightValue">200px</span></label>
      <input type="range" id="height" min="80" max="600" value="200">
    </div>

    <div class="control-group">
      <label>Border Radius <span class="value" id="radiusValue">32px</span></label>
      <input type="range" id="radius" min="0" max="100" value="32">
    </div>

    <div class="control-group">
      <label>Blur <span class="value" id="blurValue">60px</span></label>
      <input type="range" id="blur" min="10" max="150" value="60">
    </div>

    <div class="button-group">
      <button class="btn" onclick="makeCircle()">Circle</button>
      <button class="btn" onclick="makeSquare()">Square</button>
    </div>

    <div class="button-group">
      <button class="btn" onclick="makeButton()">Button</button>
      <button class="btn" onclick="makeWindow()">Window</button>
    </div>

    <div class="button-group">
      <button class="btn" onclick="addIcon()">Add Icon</button>
      <button class="btn" onclick="addText()">Add Text</button>
    </div>
  </div>

  <script src="node_modules/smonthl/smonthl-api.js"></script>
  <script>
    const api = new SmonthlAPI();
    let config = null;

    api.loadConfig().then(cfg => {
      config = cfg;
      applyConfig(config);
    });

    const backgrounds = [
      'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80',
      'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1920&q=80',
      'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1920&q=80'
    ];

    function setRandomBackground() {
      const randomIndex = Math.floor(Math.random() * backgrounds.length);
      document.body.style.backgroundImage = `url('${backgrounds[randomIndex]}')`;
    }

    setRandomBackground();
    setInterval(setRandomBackground, 10000);

    const container = document.getElementById('glassContainer');
    const cursorLight = document.getElementById('cursorLight');
    let isDragging = false;
    let currentX = 0, currentY = 0;
    let targetX = 0, targetY = 0;
    let velocityX = 0, velocityY = 0;
    let initialX, initialY;

    container.addEventListener('mousedown', (e) => {
      isDragging = true;
      initialX = e.clientX - currentX;
      initialY = e.clientY - currentY;
    });

    document.addEventListener('mousemove', (e) => {
      if (isDragging) {
        targetX = e.clientX - initialX;
        targetY = e.clientY - initialY;
      }

      const rect = container.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      const distance = Math.sqrt(Math.pow(e.clientX - centerX, 2) + Math.pow(e.clientY - centerY, 2));

      if (distance < 200) {
        cursorLight.style.opacity = (1 - distance / 200) * 0.8;
        cursorLight.style.left = (e.clientX - 60) + 'px';
        cursorLight.style.top = (e.clientY - 60) + 'px';
      } else {
        cursorLight.style.opacity = 0;
      }

      if (!isDragging && distance < 150) {
        const angle = Math.atan2(e.clientY - centerY, e.clientX - centerX);
        const pullX = Math.cos(angle) * 0.3 * (1 - distance / 150) * 5;
        const pullY = Math.sin(angle) * 0.3 * (1 - distance / 150) * 5;
        targetX += pullX;
        targetY += pullY;
      }
    });

    document.addEventListener('mouseup', () => {
      isDragging = false;
    });

    function animate() {
      const dx = targetX - currentX;
      const dy = targetY - currentY;

      velocityX += dx * 0.6;
      velocityY += dy * 0.6;

      velocityX *= 0.85;
      velocityY *= 0.85;

      currentX += velocityX;
      currentY += velocityY;

      container.style.transform = `translate(${currentX}px, ${currentY}px)`;

      requestAnimationFrame(animate);
    }

    animate();

    // Controls
    const width = document.getElementById('width');
    const height = document.getElementById('height');
    const radius = document.getElementById('radius');
    const blur = document.getElementById('blur');

    width.addEventListener('input', (e) => {
      const val = e.target.value;
      document.getElementById('widthValue').textContent = val + 'px';
      container.style.width = val + 'px';
      api.setSize(parseInt(val), parseInt(height.value));
    });

    height.addEventListener('input', (e) => {
      const val = e.target.value;
      document.getElementById('heightValue').textContent = val + 'px';
      container.style.height = val + 'px';
      api.setSize(parseInt(width.value), parseInt(val));
    });

    radius.addEventListener('input', (e) => {
      const val = e.target.value;
      document.getElementById('radiusValue').textContent = val + 'px';
      container.style.borderRadius = val + 'px';
      api.updateConfig('glass.borderRadius', parseInt(val));
    });

    blur.addEventListener('input', (e) => {
      const val = e.target.value;
      document.getElementById('blurValue').textContent = val + 'px';
      container.style.backdropFilter = `blur(${val}px) saturate(180%)`;
      container.style.webkitBackdropFilter = `blur(${val}px) saturate(180%)`;
      api.updateConfig('glass.blur', parseInt(val));
    });

    function applyConfig(cfg) {
      if (cfg.glass.width) container.style.width = cfg.glass.width + 'px';
      if (cfg.glass.height) container.style.height = cfg.glass.height + 'px';
      if (cfg.glass.borderRadius) container.style.borderRadius = cfg.glass.borderRadius + 'px';
    }

    function makeCircle() {
      const size = 150;
      api.setSize(size, size);
      api.applyShape('circle', size);
      container.style.width = size + 'px';
      container.style.height = size + 'px';
      container.style.borderRadius = (size / 2) + 'px';
      width.value = size;
      height.value = size;
      radius.value = size / 2;
      document.getElementById('widthValue').textContent = size + 'px';
      document.getElementById('heightValue').textContent = size + 'px';
      document.getElementById('radiusValue').textContent = (size / 2) + 'px';
    }

    function makeSquare() {
      const size = 250;
      api.setSize(size, size);
      api.applyShape('square', size);
      container.style.width = size + 'px';
      container.style.height = size + 'px';
      container.style.borderRadius = (size * 0.1) + 'px';
      width.value = size;
      height.value = size;
      radius.value = size * 0.1;
      document.getElementById('widthValue').textContent = size + 'px';
      document.getElementById('heightValue').textContent = size + 'px';
      document.getElementById('radiusValue').textContent = (size * 0.1) + 'px';
    }

    function makeButton() {
      api.setSize(300, 70);
      api.applyShape('pill', 70);
      container.style.width = '300px';
      container.style.height = '70px';
      container.style.borderRadius = '9999px';
      width.value = 300;
      height.value = 70;
      radius.value = 100;
      document.getElementById('widthValue').textContent = '300px';
      document.getElementById('heightValue').textContent = '70px';
      document.getElementById('radiusValue').textContent = '100px';
    }

    function makeWindow() {
      api.setSize(600, 400);
      api.applyShape('rounded', 600);
      container.style.width = '600px';
      container.style.height = '400px';
      container.style.borderRadius = '16px';
      width.value = 600;
      height.value = 400;
      radius.value = 16;
      document.getElementById('widthValue').textContent = '600px';
      document.getElementById('heightValue').textContent = '400px';
      document.getElementById('radiusValue').textContent = '16px';
    }

    function addIcon() {
      const icons = ['üöÄ', 'üé®', '‚≠ê', 'üéØ', 'üíé', 'üî•', '‚ú®', 'üåü'];
      const icon = icons[Math.floor(Math.random() * icons.length)];
      api.setIcon(icon);
      const size = Math.min(parseInt(width.value), parseInt(height.value)) * 0.4;
      document.getElementById('content').innerHTML = `<div class="icon" style="font-size: ${size}px">${icon}</div>`;
    }

    function addText() {
      api.setTitle('SmonthlAPI', 'Flexible Glass Components');
      document.getElementById('content').innerHTML = `
        <h1>SmonthlAPI</h1>
        <p>Flexible Glass Components</p>
      `;
    }

    console.log('SmonthlAPI loaded:', api);
  </script>
</body>
</html>
